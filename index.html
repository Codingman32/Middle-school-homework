<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title id="page-title">Google Docs</title>
  <link id="favicon" rel="icon" href="https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: 'Courier New', monospace; background: #000; color: #00ff00; }
    #matrix-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
    #toolbar { background-color: rgba(0,0,0,0.85); border-bottom: 2px solid #00ff00; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    #toolbar button { margin-left: 10px; padding: 8px 12px; background: #003300; color: #00ff00; border: 1px solid #00ff00; cursor: pointer; }
    #toolbar button:hover { background: #005500; }
    .button-group { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin: 20px; }
    .button-group button { background: rgba(0,51,0,0.8); border: 1px solid #00ff00; padding: 10px; color: #00ff00; cursor: pointer; }
    .button-group button:hover { background: rgba(0,77,0,0.9); }
    #gameFrame { width: 95%; height: 70vh; margin: 20px auto; display: block; border: 2px solid #00ff00; background: #000; }
    #statusMessage { color: #00ff00; font-size: 16px; text-align: center; margin-top: 10px; }
    #iframe-instructions { color: #00ff00; font-size: 18px; text-align: center; margin-top: 15px; padding: 10px; border: 1px solid #00ff00; background-color: rgba(0,51,0,0.8); }
    #switchUrlBtn { display: none; background: #222; color: #00ff00; padding: 8px 15px; border: 1px solid #00ff00; cursor: pointer; margin: 10px auto; display: block; text-align: center; }
    #switchUrlBtn:hover { background-color: #003300; }
  </style>
</head>
<body>

<canvas id="matrix-canvas"></canvas>

<div id="toolbar">
  <div>Study Platform - Terminal Mode</div>
  <div>
    <button onclick="panic()">Panic</button>
    <button onclick="toggleFullScreen()">Fullscreen</button>
  </div>
</div>

<div class="button-group">
  <button onclick="cloak('Google Docs', 'https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico')">Cloak as Google Docs</button>
  <button onclick="cloak('Google Drive', 'https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.ico')">Cloak as Google Drive</button>
  <button onclick="cloak('Google Classroom', 'https://ssl.gstatic.com/classroom/favicon.png')">Cloak as Google Classroom</button>
</div>

<div class="button-group" id="gameButtons">
  <!-- Add as many buttons as you want -->
  <button onclick="loadGame('https://retrobowlunblocked.github.io', 'https://ubg98.github.io')">Retro Bowl</button>
  <button onclick="loadGame('https://ubg44.github.io', 'https://ubg98.github.io')">UBG44</button>
  <button onclick="loadGame('https://ubg98.github.io', 'https://ubg44.github.io')">UBG98</button>
  <button onclick="loadGame('https://1v1.lol', 'https://1v1.lol')">1v1.LOL</button>
  <button onclick="loadGame('https://unblockedgames66ez.github.io', 'https://ubg98.github.io')">UBG66 EZ</button>
  <button onclick="loadGame('https://unblockedgamespod.com', 'https://ubg44.github.io')">Unblocked Games Pod</button>
  <button onclick="loadGame('https://geometrydashonline.com', 'https://slopegame.online')">Geometry Dash</button>
  <button onclick="loadGame('https://slopegame.online', 'https://geometrydashonline.com')">Slope</button>
  <button onclick="loadGame('https://krunker.io', 'https://alt.krunker.io')">Krunker</button>
  <button onclick="loadGame('https://diep.io', 'https://alt.diep.io')">Diep.io</button>
</div>

<iframe id="gameFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
<button id="switchUrlBtn" onclick="switchToAltUrl()">Try Alternative Game</button>

<div id="statusMessage">Game Frame is OFF</div>

<div id="iframe-instructions">
  <p><strong>How the Game Frame Works:</strong></p>
  <p>The game iframe below is used to play various unblocked games directly on this page. If the game is blocked or fails, it will automatically switch to an alternate URL, and youâ€™ll get a manual option too.</p>
</div>

<script>
  let currentUrl = '', altUrl = '';
  let gameFrameOn = false;

  function loadGame(url, fallback) {
    currentUrl = url;
    altUrl = fallback;
    const iframe = document.getElementById("gameFrame");
    const btn = document.getElementById("switchUrlBtn");
    const status = document.getElementById("statusMessage");

    btn.style.display = "none";
    iframe.src = url;
    iframe.style.display = "block";
    status.textContent = "Loading game...";
    gameFrameOn = true;
    updateStatusMessage();

    // Check if game fails to load
    setTimeout(() => {
      try {
        const doc = iframe.contentDocument || iframe.contentWindow.document;
        if (!doc || doc.body.innerHTML.trim() === "") {
          status.textContent = "Primary URL failed. Switching...";
          iframe.src = fallback;
          btn.style.display = "inline-block";
        }
      } catch (e) {
        status.textContent = "Blocked or failed. Manual option enabled.";
        btn.style.display = "inline-block";
      }
    }, 3000);
  }

  function switchToAltUrl() {
    const iframe = document.getElementById("gameFrame");
    const btn = document.getElementById("switchUrlBtn");
    iframe.src = altUrl;
    btn.style.display = "none";
    document.getElementById("statusMessage").textContent = "Loading alternative game...";
  }

  function panic() {
    const iframe = document.getElementById("gameFrame");
    iframe.src = "";
    iframe.style.display = "none";
    document.title = "Google Docs";
    updateFavicon("https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico");
    gameFrameOn = false;
    updateStatusMessage();
  }

  function toggleFullScreen() {
    const elem = document.documentElement;
    if (!document.fullscreenElement) {
      elem.requestFullscreen().catch(err => alert(`Error: ${err.message}`));
    } else {
      document.exitFullscreen();
    }
  }

  function cloak(title, faviconURL) {
    document.title = title;
    updateFavicon(faviconURL);
  }

  function updateFavicon(url) {
    const existing = document.getElementById("favicon");
    if (existing) existing.remove();
    const newIcon = document.createElement("link");
    newIcon.id = "favicon";
    newIcon.rel = "icon";
    newIcon.href = url + "?v=" + new Date().getTime();
    document.head.appendChild(newIcon);
  }

  function updateStatusMessage() {
    document.getElementById("statusMessage").textContent = gameFrameOn ? "Game Frame is ON" : "Game Frame is OFF";
  }

  (function matrixRain() {
    const canvas = document.getElementById("matrix-canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()".split("");
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array.from({ length: columns }, () => 1);
    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#0F0";
      ctx.font = fontSize + "px monospace";
      drops.forEach((y, i) => {
        const text = letters[Math.floor(Math.random() * letters.length)];
        ctx.fillText(text, i * fontSize, y * fontSize);
        drops[i] = y * fontSize > canvas.height && Math.random() > 0.975 ? 0 : y + 1;
      });
    }
    setInterval(draw, 33);
  })();
</script>

</body>
</html>
