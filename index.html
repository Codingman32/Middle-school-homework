<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title id="page-title">Google Docs</title>
  <link id="favicon" rel="icon" href="https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico" type="image/x-icon" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: black;
      font-family: monospace;
      color: #00ff00;
    }
    #matrix-canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }
    #toolbar, .button-group, #statusMessage, #iframe-instructions, #mobileToggle {
      padding: 10px;
      background: rgba(0, 0, 0, 0.75);
    }
    #toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .game-thumb {
      width: 100px;
      height: 100px;
      object-fit: cover;
      cursor: pointer;
      border: 2px solid #00ff00;
    }
    iframe {
      width: 100%;
      height: 500px;
      border: none;
      display: block;
      margin-top: 10px;
    }
    #blurOverlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      backdrop-filter: blur(10px);
      z-index: 9999;
      display: none;
    }
    @media (max-width: 768px) {
      iframe {
        height: 300px;
      }
    }
  </style>
</head>
<body>

<canvas id="matrix-canvas"></canvas>

<div id="blurOverlay"></div>

<div id="toolbar">
  <div>Study Platform - Terminal Mode</div>
  <div>
    <button onclick="panic()">Panic</button>
    <button onclick="toggleFullScreen()">Fullscreen</button>
    <button onclick="toggleMobile()">Mobile Mode</button>
  </div>
</div>

<div class="button-group">
  <button onclick="cloak('Google Docs', 'https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico')">Google Docs</button>
  <button onclick="cloak('Google Drive', 'https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.ico')">Google Drive</button>
  <button onclick="cloak('Google Classroom', 'https://ssl.gstatic.com/classroom/favicon.png')">Google Classroom</button>
</div>

<div class="button-group" id="gameButtons">
  <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/5f/Retro_Bowl_cover.png/220px-Retro_Bowl_cover.png" class="game-thumb" title="Retro Bowl" onclick="loadGame('https://retrobowlunblocked.github.io', 'https://ubg98.github.io')">
  <img src="https://www.ubg44.com/favicon.ico" class="game-thumb" title="UBG44" onclick="loadGame('https://ubg44.github.io', 'https://ubg98.github.io')">
  <img src="https://www.ubg98.com/favicon.ico" class="game-thumb" title="UBG98" onclick="loadGame('https://ubg98.github.io', 'https://ubg44.github.io')">
  <img src="https://1v1.lol/favicon.ico" class="game-thumb" title="1v1.LOL" onclick="loadGame('https://1v1.lol', 'https://1v1.lol')">
  <img src="https://geometrydashonline.com/favicon.ico" class="game-thumb" title="Geometry Dash" onclick="loadGame('https://geometrydashonline.com', 'https://slopegame.online')">
  <img src="https://slopegame.online/favicon.ico" class="game-thumb" title="Slope" onclick="loadGame('https://slopegame.online', 'https://geometrydashonline.com')">
  <img src="https://krunker.io/img/favicon.png" class="game-thumb" title="Krunker" onclick="loadGame('https://krunker.io', 'https://alt.krunker.io')">
  <img src="https://diep.io/favicon.ico" class="game-thumb" title="Diep.io" onclick="loadGame('https://diep.io', 'https://alt.diep.io')">
</div>

<iframe id="gameFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
<button id="switchUrlBtn" onclick="switchToAltUrl()">Try Alternative Game</button>

<div id="statusMessage">Game Frame is OFF</div>

<div id="iframe-instructions">
  <p><strong>How the Game Frame Works:</strong></p>
  <p>The game iframe below is used to play various unblocked games directly on this page. If the game is blocked or fails, it will automatically switch to an alternate URL, and youâ€™ll get a manual option too.</p>
</div>

<script>
  let activeGame = null;
  let altGame = null;

  function cloak(title, icon) {
    document.title = title;
    document.getElementById('favicon').href = icon;
  }

  function panic() {
    document.title = "Google Search";
    document.getElementById('favicon').href = "https://www.google.com/favicon.ico";
    document.getElementById("gameFrame").src = "";
    document.getElementById("statusMessage").textContent = "Game Frame is OFF";
  }

  function toggleFullScreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  }

  function toggleMobile() {
    alert("Mobile mode toggled! Some styles will adapt on small screens automatically.");
  }

  function loadGame(url, altUrl) {
    activeGame = url;
    altGame = altUrl;
    document.getElementById("gameFrame").src = url;
    document.getElementById("statusMessage").textContent = "Game is loading...";
  }

  function switchToAltUrl() {
    if (altGame) {
      document.getElementById("gameFrame").src = altGame;
      document.getElementById("statusMessage").textContent = "Switched to alternate URL.";
    }
  }

  // Matrix effect
  const canvas = document.getElementById("matrix-canvas");
  const ctx = canvas.getContext("2d");
  canvas.height = window.innerHeight;
  canvas.width = window.innerWidth;
  const letters = "01";
  const fontSize = 14;
  const columns = canvas.width / fontSize;
  const drops = Array(Math.floor(columns)).fill(1);
  function drawMatrix() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#0F0";
    ctx.font = fontSize + "px monospace";
    for (let i = 0; i < drops.length; i++) {
      const text = letters.charAt(Math.floor(Math.random() * letters.length));
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);
      if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
      drops[i]++;
    }
  }
  setInterval(drawMatrix, 33);

  // Tab scanner for Classwize/GoGuardian
  setInterval(() => {
    const tabs = [document.title.toLowerCase()];
    const badWords = ["classwize", "goguardian"];
    if (tabs.some(tab => badWords.some(word => tab.includes(word)))) {
      document.body.innerHTML = "<h1 style='color:red;text-align:center;'>Blocked monitoring software detected. Access denied.</h1>";
    }
  }, 2000);

  // AFK detection
  let afkTimeout;
  const blurOverlay = document.getElementById("blurOverlay");

  function resetAFK() {
    clearTimeout(afkTimeout);
    blurOverlay.style.display = "none";
    afkTimeout = setTimeout(() => {
      blurOverlay.style.display = "block";
    }, 15000);
  }

  document.addEventListener("mousemove", resetAFK);
  document.addEventListener("keydown", resetAFK);
  document.addEventListener("click", resetAFK);
  resetAFK();
</script>

</body>
</html>
    }
  }
  scanTabs();
</script>

</body>
</html>
